sentiment_data={
  "Fashion": {
      "date": [
          1601510400000000000,
          1601596800000000000,
          1601769600000000000,
          1601856000000000000,
          1601942400000000000,
          1602028800000000000,
          1602115200000000000,
          1602201600000000000,
          1602288000000000000,
          1602374400000000000,
          1602460800000000000,
          1602547200000000000,
          1602633600000000000,
          1602720000000000000,
          1602806400000000000,
          1602892800000000000,
          1602979200000000000,
          1603065600000000000,
          1603152000000000000,
          1603238400000000000,
          1603324800000000000,
          1603411200000000000,
          1603497600000000000,
          1603584000000000000,
          1603670400000000000,
          1603756800000000000,
          1603929600000000000,
          1604016000000000000,
          1604102400000000000,
          1604188800000000000,
          1604275200000000000,
          1604361600000000000,
          1604448000000000000,
          1604534400000000000,
          1604620800000000000,
          1604707200000000000,
          1604793600000000000,
          1604880000000000000,
          1604966400000000000,
          1605052800000000000,
          1605139200000000000,
          1605225600000000000,
          1605312000000000000,
          1605398400000000000,
          1605484800000000000,
          1605571200000000000,
          1605657600000000000,
          1605744000000000000,
          1605830400000000000,
          1605916800000000000,
          1606003200000000000,
          1606089600000000000,
          1606176000000000000,
          1606262400000000000,
          1606348800000000000,
          1606435200000000000,
          1606521600000000000,
          1606608000000000000,
          1606694400000000000,
          1606780800000000000,
          1606867200000000000,
          1606953600000000000,
          1607126400000000000,
          1607212800000000000,
          1607299200000000000,
          1607385600000000000,
          1607472000000000000,
          1607558400000000000,
          1607644800000000000,
          1607731200000000000,
          1607817600000000000,
          1607904000000000000,
          1607990400000000000,
          1608076800000000000,
          1608163200000000000,
          1608249600000000000,
          1608336000000000000,
          1608422400000000000,
          1608508800000000000,
          1608595200000000000,
          1608681600000000000,
          1608768000000000000,
          1608854400000000000,
          1608940800000000000,
          1609027200000000000,
          1609113600000000000,
          1609200000000000000,
          1609286400000000000,
          1609372800000000000,
          1609459200000000000,
          1609545600000000000,
          1609632000000000000,
          1609718400000000000,
          1609804800000000000,
          1609891200000000000,
          1609977600000000000,
          1610150400000000000,
          1610236800000000000,
          1610323200000000000,
          1610409600000000000,
          1610496000000000000,
          1610582400000000000,
          1610755200000000000,
          1610841600000000000,
          1610928000000000000,
          1611014400000000000,
          1611100800000000000,
          1611187200000000000,
          1611273600000000000,
          1611360000000000000,
          1611446400000000000,
          1611532800000000000,
          1611619200000000000,
          1611705600000000000,
          1611792000000000000,
          1611878400000000000,
          1611964800000000000,
          1612051200000000000,
          1612137600000000000,
          1612224000000000000,
          1612310400000000000,
          1612483200000000000,
          1612569600000000000,
          1612656000000000000,
          1612742400000000000
      ],
      "neg": [
          1,
          1,
          1,
          1,
          1,
          0,
          0,
          2,
          1,
          0,
          3,
          1,
          1,
          2,
          0,
          0,
          1,
          0,
          0,
          1,
          0,
          3,
          1,
          1,
          0,
          1,
          0,
          0,
          1,
          0,
          1,
          0,
          0,
          2,
          1,
          0,
          0,
          2,
          1,
          0,
          0,
          1,
          0,
          1,
          1,
          0,
          0,
          1,
          1,
          2,
          1,
          1,
          1,
          1,
          2,
          2,
          0,
          0,
          0,
          0,
          1,
          1,
          0,
          0,
          0,
          1,
          0,
          2,
          2,
          1,
          1,
          1,
          0,
          1,
          1,
          0,
          1,
          3,
          1,
          1,
          0,
          0,
          1,
          1,
          0,
          1,
          0,
          0,
          2,
          0,
          1,
          1,
          1,
          1,
          1,
          0,
          0,
          0,
          0,
          2,
          1,
          1,
          0,
          0,
          0,
          1,
          1,
          2,
          2,
          1,
          2,
          1,
          0,
          0,
          0,
          0,
          2,
          0,
          2,
          1,
          1,
          3,
          2,
          1,
          1
      ],
      "pos": [
          0,
          0,
          1,
          0,
          0,
          1,
          6,
          0,
          1,
          1,
          2,
          2,
          1,
          2,
          2,
          1,
          3,
          2,
          4,
          1,
          4,
          1,
          0,
          3,
          3,
          0,
          4,
          2,
          1,
          3,
          2,
          3,
          3,
          1,
          3,
          1,
          4,
          1,
          1,
          1,
          1,
          1,
          1,
          3,
          2,
          2,
          1,
          2,
          4,
          5,
          4,
          2,
          1,
          2,
          2,
          0,
          3,
          2,
          1,
          2,
          1,
          1,
          3,
          2,
          2,
          3,
          2,
          5,
          2,
          1,
          3,
          3,
          2,
          0,
          2,
          4,
          2,
          1,
          4,
          1,
          5,
          1,
          3,
          5,
          1,
          1,
          3,
          3,
          0,
          2,
          0,
          2,
          4,
          4,
          1,
          3,
          5,
          5,
          1,
          2,
          1,
          2,
          2,
          2,
          3,
          3,
          1,
          2,
          1,
          3,
          1,
          2,
          2,
          3,
          2,
          3,
          2,
          1,
          6,
          4,
          4,
          4,
          5,
          6,
          2
      ]
  },
  "Film": {
      "date": [
          1601510400000000000,
          1602028800000000000,
          1602115200000000000,
          1602633600000000000,
          1602892800000000000,
          1603065600000000000,
          1603238400000000000,
          1603411200000000000,
          1603497600000000000,
          1604016000000000000,
          1604188800000000000,
          1605312000000000000,
          1605830400000000000,
          1606780800000000000,
          1607040000000000000,
          1607212800000000000,
          1607385600000000000,
          1607731200000000000,
          1608854400000000000,
          1609027200000000000,
          1609113600000000000,
          1609200000000000000,
          1609372800000000000,
          1609804800000000000,
          1610150400000000000,
          1610323200000000000,
          1610409600000000000,
          1610668800000000000,
          1611446400000000000,
          1611619200000000000,
          1611705600000000000,
          1611878400000000000,
          1612051200000000000,
          1612224000000000000,
          1612483200000000000,
          1612742400000000000
      ],
      "neg": [
          1,
          1,
          1,
          0,
          1,
          1,
          2,
          1,
          1,
          0,
          1,
          1,
          1,
          1,
          1,
          1,
          1,
          2,
          2,
          1,
          0,
          0,
          1,
          1,
          1,
          1,
          1,
          1,
          1,
          1,
          0,
          1,
          1,
          1,
          1,
          2
      ],
      "pos": [
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          1,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0
      ]
  },
  "Food": {
      "date": [
          1601510400000000000,
          1601596800000000000,
          1601683200000000000,
          1601769600000000000,
          1601856000000000000,
          1601942400000000000,
          1602028800000000000,
          1602115200000000000,
          1602201600000000000,
          1602288000000000000,
          1602374400000000000,
          1602460800000000000,
          1602547200000000000,
          1602633600000000000,
          1602720000000000000,
          1602806400000000000,
          1602892800000000000,
          1602979200000000000,
          1603065600000000000,
          1603152000000000000,
          1603238400000000000,
          1603324800000000000,
          1603411200000000000,
          1603497600000000000,
          1603584000000000000,
          1603670400000000000,
          1603756800000000000,
          1603843200000000000,
          1603929600000000000,
          1604016000000000000,
          1604102400000000000,
          1604188800000000000,
          1604275200000000000,
          1604361600000000000,
          1604448000000000000,
          1604534400000000000,
          1604620800000000000,
          1604707200000000000,
          1604793600000000000,
          1604880000000000000,
          1604966400000000000,
          1605052800000000000,
          1605139200000000000,
          1605225600000000000,
          1605312000000000000,
          1605484800000000000,
          1605571200000000000,
          1605657600000000000,
          1605744000000000000,
          1605830400000000000,
          1605916800000000000,
          1606003200000000000,
          1606089600000000000,
          1606176000000000000,
          1606262400000000000,
          1606348800000000000,
          1606435200000000000,
          1606521600000000000,
          1606608000000000000,
          1606694400000000000,
          1606780800000000000,
          1606867200000000000,
          1606953600000000000,
          1607040000000000000,
          1607126400000000000,
          1607212800000000000,
          1607299200000000000,
          1607385600000000000,
          1607472000000000000,
          1607558400000000000,
          1607644800000000000,
          1607731200000000000,
          1607817600000000000,
          1607904000000000000,
          1607990400000000000,
          1608076800000000000,
          1608163200000000000,
          1608249600000000000,
          1608336000000000000,
          1608422400000000000,
          1608508800000000000,
          1608595200000000000,
          1608681600000000000,
          1608768000000000000,
          1608854400000000000,
          1608940800000000000,
          1609027200000000000,
          1609113600000000000,
          1609200000000000000,
          1609286400000000000,
          1609372800000000000,
          1609459200000000000,
          1609545600000000000,
          1609632000000000000,
          1609718400000000000,
          1609804800000000000,
          1609891200000000000,
          1609977600000000000,
          1610064000000000000,
          1610150400000000000,
          1610236800000000000,
          1610323200000000000,
          1610409600000000000,
          1610496000000000000,
          1610582400000000000,
          1610668800000000000,
          1610755200000000000,
          1610841600000000000,
          1610928000000000000,
          1611014400000000000,
          1611100800000000000,
          1611187200000000000,
          1611273600000000000,
          1611360000000000000,
          1611446400000000000,
          1611532800000000000,
          1611619200000000000,
          1611705600000000000,
          1611792000000000000,
          1611878400000000000,
          1611964800000000000,
          1612051200000000000,
          1612137600000000000,
          1612224000000000000,
          1612310400000000000,
          1612396800000000000,
          1612483200000000000,
          1612569600000000000,
          1612656000000000000,
          1612742400000000000,
          1612828800000000000
      ],
      "neg": [
          0,
          1,
          1,
          1,
          2,
          1,
          0,
          1,
          0,
          2,
          0,
          1,
          1,
          1,
          3,
          0,
          3,
          1,
          0,
          2,
          1,
          1,
          1,
          0,
          2,
          0,
          1,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          1,
          3,
          1,
          2,
          1,
          1,
          0,
          0,
          2,
          1,
          0,
          1,
          0,
          1,
          1,
          0,
          1,
          1,
          2,
          0,
          1,
          1,
          2,
          0,
          0,
          0,
          0,
          0,
          3,
          3,
          0,
          3,
          2,
          2,
          1,
          1,
          0,
          0,
          1,
          0,
          1,
          1,
          0,
          1,
          1,
          1,
          1,
          1,
          1,
          0,
          1,
          1,
          0,
          1,
          0,
          0,
          2,
          0,
          0,
          0,
          1,
          0,
          0,
          1,
          0,
          0,
          0,
          1,
          0,
          0,
          1,
          1,
          1,
          1,
          1,
          1,
          0,
          0,
          3,
          1,
          0,
          3,
          1,
          3,
          0,
          0,
          1,
          1,
          1,
          0,
          0,
          0,
          0,
          1,
          2,
          0,
          0
      ],
      "pos": [
          2,
          6,
          5,
          5,
          3,
          2,
          3,
          3,
          6,
          3,
          3,
          2,
          1,
          5,
          6,
          3,
          2,
          3,
          6,
          6,
          1,
          2,
          2,
          7,
          5,
          2,
          4,
          2,
          4,
          5,
          4,
          3,
          4,
          2,
          5,
          3,
          5,
          5,
          4,
          3,
          1,
          5,
          5,
          3,
          3,
          5,
          3,
          5,
          3,
          1,
          3,
          2,
          3,
          5,
          8,
          4,
          2,
          4,
          3,
          3,
          4,
          4,
          7,
          3,
          4,
          4,
          5,
          3,
          5,
          3,
          2,
          6,
          2,
          4,
          4,
          1,
          4,
          1,
          6,
          2,
          7,
          8,
          5,
          2,
          3,
          7,
          3,
          2,
          2,
          9,
          2,
          2,
          2,
          7,
          3,
          7,
          1,
          7,
          5,
          3,
          5,
          5,
          4,
          7,
          2,
          5,
          2,
          4,
          2,
          3,
          2,
          2,
          4,
          2,
          5,
          1,
          3,
          0,
          6,
          5,
          2,
          1,
          6,
          3,
          6,
          5,
          1,
          2,
          1,
          4,
          3
      ]
  }
}

let color_line = {
  'series 1':"#00FF66",
  "series 2":"#FF0000"
}


function load_data(data){
  new_data = []
  data['date'].map(function(d,i) {
    new_data.push({
      date:+d/1000000,
      value1: data['pos'][i], 
      value2: data['neg'][i]
    })
  })
  return new_data
}

obj = {
  'Food':'lineChart1',
  'Fashion':'lineChart2',
  'Film':'lineChart3',
}

for (const [key, value] of Object.entries(obj)) {
  create_lineChart(sentiment_data[key],value)
}
function create_lineChart(data,id){
  
  var root = am5.Root.new(id);


  root.setThemes([
    am5themes_Animated.new(root)
  ]);


  root.dateFormatter.setAll({
    dateFields: ["valueX"]
  });

  var chart = root.container.children.push(am5xy.XYChart.new(root, {
    panX: false,
    panY: false,
    wheelX: "panX",
    wheelY: "zoomX"
  }));

  var cursor = chart.set("cursor", am5xy.XYCursor.new(root, {
    behavior: "zoomX"
  }));
  cursor.lineY.set("visible", false);


  var xAxis = chart.xAxes.push(am5xy.DateAxis.new(root, {
    maxDeviation: 0.5,
    baseInterval: {
      timeUnit: "day",
      count: 1
    },
    renderer: am5xy.AxisRendererX.new(root, {
      pan:"zoom"
    }),
    tooltip: am5.Tooltip.new(root, {})
  }));

  var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
    maxDeviation:1,
    renderer: am5xy.AxisRendererY.new(root, {
      pan:"zoom"
    })
  }));

 
  function createSeries(name, field) {
    console.log(data)
    var series = chart.series.push(am5xy.LineSeries.new(root, {
      name: "Series",
      xAxis: xAxis,
      yAxis: yAxis,
      valueYField: field,
      valueXField: "date",
      tooltip: am5.Tooltip.new(root, {
        labelText: "{valueX}: {valueY}"
      }),
      
    }));
    series.fills.template.setAll({
      visible: true,
      fillOpacity: 0.1,
    });
    
    series.bullets.push(function() {
      return am5.Bullet.new(root, {
        locationY: 0,
        sprite: am5.Circle.new(root, {
          radius: 2,
          stroke: root.interfaceColors.get("background"),
          strokeWidth: 1,
          fill: series.get("fill")
        })
      });
    });
    series.set("fill", am5.color(color_line[name]))
    series.data.setAll(data);
    series.appear(1000);

  }

  chart.set("scrollbarX", am5.Scrollbar.new(root, {
    orientation: "horizontal"
  }));


  data = load_data(data)
  createSeries("series 1",'value1')
  createSeries("series 2",'value2')

  chart.appear(1000, 100);
}

